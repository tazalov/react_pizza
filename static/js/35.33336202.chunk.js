(self.webpackChunkreact_pizza=self.webpackChunkreact_pizza||[]).push([[35],{3217:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return m}});var n=t(1413),c=t(3433),a=t(4165),s=t(5861),o=t(2808),i=t.n(o),u=t(2791),f=t(9434),l=t(7689),p=t(2989),d=t(1493),g=function(e){return e.filter},h=t(902),y=function(e){return e.pizzas},j=t(98),x=t(5027),v=t(184),m=function(){var e=(0,x.T)(),r=(0,l.s0)(),t=(0,l.TH)(),o=(0,u.useRef)(!1),m=(0,u.useRef)(!1),k=(0,f.v9)(g),z=k.categoryId,_=k.sort,w=k.descOrder,b=k.currentPage,C=k.searchValue,E=(0,f.v9)(y),N=E.items,T=E.status,Z=E.error,D=(0,u.useCallback)((function(r){e((0,h.uA)(r)),e((0,h.D4)(1))}),[]),O=(0,u.useCallback)((function(r){e((0,h.Td)(r))}),[]),R=(0,u.useCallback)((function(){e((0,h.zG)())}),[]),A=(0,u.useCallback)((function(r){e((0,h.D4)(r))}),[]),P=function(){var r=(0,s.Z)((0,a.Z)().mark((function r(){var t,n,c,s;return(0,a.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:t="&order=".concat(w?"desc":"asc"),n=z?"&category=".concat(z):"",c="&sortBy=".concat(_.property),s=C?"&title=".concat(C):"",e((0,j.qR)({order:t,category:n,sort:c,searchValue:s,currentPage:b}));case 5:case"end":return r.stop()}}),r)})));return function(){return r.apply(this,arguments)}}();return(0,u.useEffect)((function(){if(m.current){var e=i().stringify({page:b,category:z,sort:_.property});r("?".concat(e))}m.current=!0}),[z,_.property,b]),(0,u.useEffect)((function(){if(t.search){var r=i().parse(t.search.slice(1)),n=d.j.find((function(e){return e.property===r.sort})),c={page:r.page,category:r.category,sort:n};e((0,h.M1)(c)),o.current=!0}o.current=!1}),[]),(0,u.useEffect)((function(){o.current||P(),o.current=!1,window.scrollTo(0,0)}),[z,_.property,w,C,b]),(0,v.jsxs)("div",{className:"container",children:[(0,v.jsxs)("div",{className:"content__top",children:[(0,v.jsx)(p.Rj,{id:z,changeId:D}),(0,v.jsx)(p.aW,{type:_,changeType:O,descOrder:w,toggleDescOrder:R})]}),(0,v.jsx)("h2",{className:"content__title",children:"All pizzas"}),"error"===T?(0,v.jsx)(p.iE,{title:Z,description:""}):N.length?(0,v.jsxs)(v.Fragment,{children:[0===z&&(0,v.jsx)(p.Ds,{changePage:A}),(0,v.jsx)("div",{className:"content__items",children:"loading"===T?(0,c.Z)(new Array(4)).map((function(e,r){return(0,v.jsx)(p.Od,{},r)})):N.map((function(e){return(0,v.jsx)(p.qd,(0,n.Z)({},e),e.id)}))})]}):(0,v.jsx)(p.iE,{title:"Not found",description:"Sorry"})]})}},4654:function(){}}]);
//# sourceMappingURL=35.33336202.chunk.js.map